const pipes=(_=>_=((P,A=Array.isArray)=>(...f)=>(...a)=>f.reduce((b,w)=>(A(w)?w.map(v=>(A(v)?_(...v)(...b):P(b,v))):[P(b,w)]),a)[0])((a,v)=>(~~v==v?a[v]:v(...a))))()
const pipeline=(a,...f)=>(...A)=>f.reduce((b,F,i)=>[[F(...b[0].concat(b[1].slice(0,a[i])))],b[1].slice(a[i])],[[],A])[0][0]
const chara=(k,f,o)=>f(...(Array.isArray(k)?k:[k]).map(K=>o[K]))
const apply=(f,a)=>f(...a)
